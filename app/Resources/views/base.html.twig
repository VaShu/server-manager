{% form_theme form _self %}
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>{% block title %}Welcome!{% endblock %}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        {% block stylesheets %}
            <link rel="stylesheet" href="{{ asset('css/manager.css') }}" />
        {% endblock %}
        <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}" />
    </head>
    <body>
        {% block menu %}
            <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="{{ path('homepage') }}">
                            Server Manager
                        </a>
                    </div>
                </div>
            </nav>
            <br>
        {% endblock menu %}
        <div class="container">
            <main class="content">
                {% block header %}
                    <div class="page-header">
                        <h1>{{ block('title') }}</h1>
                    </div>
                {% endblock header %}

                {% for flashType in app.session.flashbag.keys %}
                    {% for flash in app.session.flashbag.get(flashType) %}
                        <div class="alert alert-{{ flashType }}">{{ flash }}</div>
                    {% endfor %}
                {% endfor %}

                {% block body %}
                    {% block collection_widget %}
                        {% spaceless %}
                            <div class="form-collection">
                                <div class="form-collection-elements">
                                    {% for subform in form %}
                                        <div class="form-collection-element">
                                            {% if allow_delete %}
                                                <div class="row">
                                                    <div class="col-xs-10">
                                                        {{ form_widget(subform) }}
                                                    </div>
                                                    <div class="col-xs-2">
                                                        <a class="form-collection-delete btn btn-small btn-danger">Delete</a>
                                                    </div>
                                                </div>
                                            {% else %}
                                                {{ form_widget(subform) }}
                                            {% endif %}
                                        </div>
                                    {% endfor %}
                                </div>
                                {% if prototype is defined %}
                                    {% set prototype %}
                                    <div class="form-collection-element">
                                        <div class="row">
                                            <div class="col-xs-10">
                                                {{ form_widget(prototype) }}
                                            </div>
                                            <div class="col-xs-2">
                                                <a class="form-collection-delete btn btn-small btn-danger">Delete</a>
                                            </div>
                                        </div>
                                    </div>
                                    {% endset %}
                                    <div class="form-collection-footer">
                                        {% if label is empty %}
                                            {% set label = name|humanize %}
                                        {% endif %}
                                        <a data-prototype="{{ prototype|e }}" class="form-collection-add btn btn-small btn-success">New {{ label }}</a>
                                    </div>
                                {% endif %}
                            </div>
                        {% endspaceless %}
                    {% endblock %}
                {% endblock %}
            </main>
        </div>
        {% block javascripts %}
            <script src="{{ asset('js/bundle.js') }}"></script>
        {% endblock %}
    </body>
</html>
